import{i,c as R,s as A,t as u,a as m,o as D,b as B,d as a,F as L,S as k,r as F}from"./vendor.0ea87038.js";const H=function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))c(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const n of t.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&c(n)}).observe(document,{childList:!0,subtree:!0});function s(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?t.credentials="include":e.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function c(e){if(e.ep)return;e.ep=!0;const t=s(e);fetch(e.href,t)}};H();var q="/assets/TrackdayImola.b71a33e8.png";const J=u('<div><div class="pos"></div><div class="pic"></div><div class="name"></div><div class="score vehicle"></div><div class="score"></div></div>'),T=o=>{const{c:l,lap:s,pos:c}=o;if(!s)return null;let e=new Date(parseInt(s.laptime));return(()=>{const t=J.cloneNode(!0),n=t.firstChild,g=n.nextSibling,h=g.nextSibling,_=h.nextSibling,y=_.nextSibling;return t.className=l,i(n,c),i(h,()=>s.steamProfile.nickname),i(_,()=>s.vehiclename),i(y,()=>`${e.getMinutes()}:${e.getSeconds()}.${e.getMilliseconds()}`),R(C=>A(g,`background-image: url(${s.steamProfile.avatar.large})`,C)),t})()},Y=u('<div class="container"><div class="row"><div class="col"><div class="container-fluid text-center"><img alt="Trackday@Imola" class="img-fluid"></div></div></div></div>'),Z=u('<p class="text-center"><b>Yay! You have seen it all</b></p>'),j=u('<div class="" id="scoreboard"><div class="top3"></div><div class="list" id="infScroll"></div></div>'),K=u('<div class="container"><div class="row"><div class="col-lg-8 offset-lg-2 body mt-2"><div class="blackbox"><div class="text-center"><h1>TROLL SimRacing presents Trackday@Imola! [BETA]</h1><p>GT cars - real time (CET) and weather. Dont be a dick, show respect!<br><a href="https://discord.com/invite/G5a5MJp5Zn">Discord.gg/G5a5MJp5Zn</a> | Have a great trackday!!<br></p></div><div class="container-fluid"><div class="row"><div class="col"><div class="form-group mb-5 pl-5 pr-5 mt-2"><label for="classSelector">Select class</label><select class="form-control" id="classSelector"></select></div></div></div></div></div></div></div></div>'),U=u("<option></option>"),z=u("<div>Loading...</div>"),S=async(o,l)=>(await fetch(`https://api.trollsimracing.no:8080/class/${o}/${l}`)).json(),Q=()=>{const o=["GTE","GT1","GT3","GT4"];m([]);const[l,s]=m([]),[c,e]=m(o[0]),[t,n]=m(0),[g,h]=m(!0),[_,y]=m(!1),C=[{value:"GTE",label:"GTE"},{value:"GT1",label:"GT1"},{value:"GT3",label:"GT3"},{value:"GT4",label:"GT4"}];return D(()=>{S(c(),0).then(d=>s(d))}),window.onscroll=function(d){let f=document.body,{y:$,height:b}=f.getBoundingClientRect();Math.ceil(-$+b)>=f.scrollHeight&&!_()&&g()&&(y(!0),S(c(),t()+1).then(v=>{v.length?s(l().concat(v)):h(!1),y(!1)}),n(t()+1))},[(()=>{const d=Y.cloneNode(!0),f=d.firstChild,$=f.firstChild,b=$.firstChild,v=b.firstChild;return B(v,"src",q),d})(),(()=>{const d=K.cloneNode(!0),f=d.firstChild,$=f.firstChild,b=$.firstChild,v=b.firstChild,N=v.nextSibling,E=N.firstChild,w=E.firstChild,I=w.firstChild,M=I.firstChild,x=M.nextSibling;return x.addEventListener("change",p=>{e(o[p.currentTarget.selectedIndex]),s([]),S(c(),0).then(r=>{s(r),n(0),h(!0)})}),i(x,a(L,{each:C,children:p=>(()=>{const r=U.cloneNode(!0);return i(r,()=>p.label),r})()})),i(w,a(k,{get when(){return!!l().length},get fallback(){return z.cloneNode(!0)},get children(){const p=j.cloneNode(!0),r=p.firstChild,G=r.nextSibling;return i(r,a(T,{c:"two item",get lap(){return l()[1]},pos:2}),null),i(r,a(T,{c:"one item",get lap(){return l()[0]},pos:1}),null),i(r,a(T,{c:"three item",get lap(){return l()[2]},pos:3}),null),i(G,a(L,{get each(){return l().slice(3)},children:(O,P)=>a(T,{c:"item",lap:O,get pos(){return P()+3}})}),null),i(G,a(k,{get when(){return!g()},get children(){return Z.cloneNode(!0)}}),null),p}}),null),d})()]};F(()=>a(Q,{}),document.getElementById("root"));const V=o=>document.createElement("canvas").toDataURL("image/webp").indexOf("data:image/webp")===0;V()||document.body.classList.add("no-webp");
